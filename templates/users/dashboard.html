{% extends 'base.html' %}

{% block title %}Dashboard - Karyo{% endblock %}

{% block content %}
<div class="min-h-screen bg-gray-50 py-8 sm:py-12">
    <div class="container mx-auto px-4">
        <div class="max-w-6xl mx-auto">

            <!-- Welcome Section -->
            <div class="mb-10">
                <h1 class="text-2xl sm:text-3xl font-bold text-gray-900">Welcome back, {{ user.full_name|default:user.email }}!</h1>
                <p class="text-gray-500 mt-2">Track your progress and manage your learning journey.</p>
            </div>

            <!-- Enrolled Courses Section -->
            <div>
                <h2 class="text-xl font-bold text-gray-900 mb-6">My Enrolled Courses</h2>
                
                {% if active_enrollment %}
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <div class="bg-white rounded-2xl shadow-lg shadow-gray-200/50 border border-gray-100 overflow-hidden flex flex-col hover:shadow-xl hover:-translate-y-1 transition-all duration-200">
                        
                        <!-- Card Content -->
                        <div class="p-6 flex-grow">
                            <!-- Title Row -->
                            <div class="flex items-start justify-between gap-3 mb-4">
                                <h2 class="text-lg font-bold text-gray-900 leading-snug">{{ active_enrollment.course.title }}</h2>
                                <span class="flex-shrink-0 px-3 py-1 bg-emerald-50 text-emerald-600 text-xs font-semibold rounded-full border border-emerald-100">
                                    {{ active_enrollment.course.duration }}
                                </span>
                            </div>
                            
                            <!-- Skills -->
                            <div class="mb-4">
                                <p class="text-xs font-semibold text-gray-400 uppercase tracking-wide mb-2">Topics Covered</p>
                                <p class="text-sm text-gray-600 leading-relaxed">
                                    {% for program in active_enrollment.course.programs_included %}{{ program }}{% if not forloop.last %}<span class="text-gray-500 text-base font-bold mx-1">•</span>{% endif %}{% endfor %}
                                </p>
                            </div>

                            <!-- Progress -->
                            <div class="mt-4">
                                <p class="text-xs font-semibold text-gray-400 uppercase tracking-wide mb-2">Progress</p>
                                <div class="flex items-center gap-3">
                                    <div class="flex-1 bg-gray-100 rounded-full h-2">
                                        <div class="bg-blue-600 h-2 rounded-full" style="width: {{ active_enrollment.progress }}%"></div>
                                    </div>
                                    <span class="text-sm font-bold text-gray-700">{{ active_enrollment.progress }}%</span>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Card Footer -->
                        <div class="border-t border-gray-100 px-6 py-6 bg-gray-50/50">
                            <div class="flex justify-between items-center mb-5">
                                <div>
                                    <p class="text-xs text-gray-400 mb-1">Joined On</p>
                                    <p class="text-sm font-semibold text-gray-700">{{ active_enrollment.enrolled_at|date:"d M Y" }}</p>
                                </div>
                                <div class="text-right">
                                    <p class="text-xs text-gray-400 mb-1">Status</p>
                                    <span class="px-2 py-1 bg-emerald-50 text-emerald-600 text-xs font-semibold rounded-full capitalize">{{ active_enrollment.status }}</span>
                                </div>
                            </div>
                            
                            <a href="#" class="block w-full py-3 bg-green-600 text-white text-center text-sm font-semibold rounded-xl hover:bg-green-700 transition-colors">
                                Continue Learning
                            </a>
                        </div>
                    </div>
                </div>
                {% else %}
                <div class="text-center py-12 bg-white rounded-xl border border-gray-200">
                    <p class="text-gray-500 mb-4">You haven't enrolled in any courses yet.</p>
                    <a href="{% url 'course_list' %}" class="inline-block px-6 py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition-colors">
                        Browse Courses
                    </a>
                </div>
                {% endif %}
            </div>

            <!-- Applied Jobs Section -->
            <div class="mt-12 border-t border-gray-200 pt-8">
                <h2 class="text-xl font-bold text-gray-900 mb-6">My Applied Jobs</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Hardcoded Job Card 1 -->
                    <div class="bg-white rounded-2xl shadow-lg shadow-gray-200/50 border border-gray-100 overflow-hidden flex flex-col hover:shadow-xl hover:-translate-y-1 transition-all duration-200">
                        
                        <!-- Card Content -->
                        <div class="p-6 flex-grow">
                            <!-- Title Row -->
                            <div class="flex items-start justify-between gap-3 mb-4">
                                <h2 class="text-lg font-bold text-gray-900 leading-snug">Frontend Developer</h2>
                                <span class="flex-shrink-0 px-3 py-1 bg-blue-50 text-blue-600 text-xs font-semibold rounded-full border border-blue-100">
                                    Full-time
                                </span>
                            </div>
                            
                            <!-- Company -->
                            <p class="text-gray-500 text-sm mb-4">Tech Solutions Inc.</p>

                            <!-- Skills -->
                            <div class="mb-4">
                                <p class="text-xs font-semibold text-gray-400 uppercase tracking-wide mb-2">Required Skills</p>
                                <p class="text-sm text-gray-600 leading-relaxed">
                                    React<span class="text-gray-500 text-base font-bold mx-1">•</span>JavaScript<span class="text-gray-500 text-base font-bold mx-1">•</span>CSS<span class="text-gray-500 text-base font-bold mx-1">•</span>HTML
                                </p>
                            </div>

                            <!-- Salary -->
                            <div class="mt-4">
                                <p class="text-xs font-semibold text-gray-400 uppercase tracking-wide mb-2">Salary Range</p>
                                <p class="text-sm font-bold text-emerald-600">₹40,000 - ₹60,000/month</p>
                            </div>
                        </div>
                        
                        <!-- Card Footer -->
                        <div class="border-t border-gray-100 px-6 py-6 bg-gray-50/50">
                            <div class="flex justify-between items-center mb-5">
                                <div>
                                    <p class="text-xs text-gray-400 mb-1">Applied On</p>
                                    <p class="text-sm font-semibold text-gray-700">15 Jan 2026</p>
                                </div>
                                <div class="text-right">
                                    <p class="text-xs text-gray-400 mb-1">Status</p>
                                    <span class="px-2 py-1 bg-yellow-50 text-yellow-600 text-xs font-semibold rounded-full">Under Review</span>
                                </div>
                            </div>
                            
                            <a href="#" class="block w-full py-3 bg-gray-100 text-gray-700 text-center text-sm font-semibold rounded-xl hover:bg-gray-200 transition-colors">
                                View Details
                            </a>
                        </div>
                    </div>

                    <!-- Hardcoded Job Card 2 -->
                    <div class="bg-white rounded-2xl shadow-lg shadow-gray-200/50 border border-gray-100 overflow-hidden flex flex-col hover:shadow-xl hover:-translate-y-1 transition-all duration-200">
                        
                        <!-- Card Content -->
                        <div class="p-6 flex-grow">
                            <!-- Title Row -->
                            <div class="flex items-start justify-between gap-3 mb-4">
                                <h2 class="text-lg font-bold text-gray-900 leading-snug">Backend Developer</h2>
                                <span class="flex-shrink-0 px-3 py-1 bg-blue-50 text-blue-600 text-xs font-semibold rounded-full border border-blue-100">
                                    Full-time
                                </span>
                            </div>
                            
                            <!-- Company -->
                            <p class="text-gray-500 text-sm mb-4">Digital Innovations Ltd.</p>

                            <!-- Skills -->
                            <div class="mb-4">
                                <p class="text-xs font-semibold text-gray-400 uppercase tracking-wide mb-2">Required Skills</p>
                                <p class="text-sm text-gray-600 leading-relaxed">
                                    Python<span class="text-gray-500 text-base font-bold mx-1">•</span>Django<span class="text-gray-500 text-base font-bold mx-1">•</span>PostgreSQL<span class="text-gray-500 text-base font-bold mx-1">•</span>REST API
                                </p>
                            </div>

                            <!-- Salary -->
                            <div class="mt-4">
                                <p class="text-xs font-semibold text-gray-400 uppercase tracking-wide mb-2">Salary Range</p>
                                <p class="text-sm font-bold text-emerald-600">₹50,000 - ₹70,000/month</p>
                            </div>
                        </div>
                        
                        <!-- Card Footer -->
                        <div class="border-t border-gray-100 px-6 py-6 bg-gray-50/50">
                            <div class="flex justify-between items-center mb-5">
                                <div>
                                    <p class="text-xs text-gray-400 mb-1">Applied On</p>
                                    <p class="text-sm font-semibold text-gray-700">20 Jan 2026</p>
                                </div>
                                <div class="text-right">
                                    <p class="text-xs text-gray-400 mb-1">Status</p>
                                    <span class="px-2 py-1 bg-green-50 text-green-600 text-xs font-semibold rounded-full">Shortlisted</span>
                                </div>
                            </div>
                            
                            <a href="#" class="block w-full py-3 bg-gray-100 text-gray-700 text-center text-sm font-semibold rounded-xl hover:bg-gray-200 transition-colors">
                                View Details
                            </a>
                        </div>
                    </div>

                    <!-- Hardcoded Job Card 3 -->
                    <div class="bg-white rounded-2xl shadow-lg shadow-gray-200/50 border border-gray-100 overflow-hidden flex flex-col hover:shadow-xl hover:-translate-y-1 transition-all duration-200">
                        
                        <!-- Card Content -->
                        <div class="p-6 flex-grow">
                            <!-- Title Row -->
                            <div class="flex items-start justify-between gap-3 mb-4">
                                <h2 class="text-lg font-bold text-gray-900 leading-snug">QA Engineer</h2>
                                <span class="flex-shrink-0 px-3 py-1 bg-blue-50 text-blue-600 text-xs font-semibold rounded-full border border-blue-100">
                                    Contract
                                </span>
                            </div>
                            
                            <!-- Company -->
                            <p class="text-gray-500 text-sm mb-4">Quality First Solutions</p>

                            <!-- Skills -->
                            <div class="mb-4">
                                <p class="text-xs font-semibold text-gray-400 uppercase tracking-wide mb-2">Required Skills</p>
                                <p class="text-sm text-gray-600 leading-relaxed">
                                    Testing<span class="text-gray-500 text-base font-bold mx-1">•</span>Selenium<span class="text-gray-500 text-base font-bold mx-1">•</span>Agile<span class="text-gray-500 text-base font-bold mx-1">•</span>JIRA
                                </p>
                            </div>

                            <!-- Salary -->
                            <div class="mt-4">
                                <p class="text-xs font-semibold text-gray-400 uppercase tracking-wide mb-2">Salary Range</p>
                                <p class="text-sm font-bold text-emerald-600">₹35,000 - ₹50,000/month</p>
                            </div>
                        </div>
                        
                        <!-- Card Footer -->
                        <div class="border-t border-gray-100 px-6 py-6 bg-gray-50/50">
                            <div class="flex justify-between items-center mb-5">
                                <div>
                                    <p class="text-xs text-gray-400 mb-1">Applied On</p>
                                    <p class="text-sm font-semibold text-gray-700">22 Jan 2026</p>
                                </div>
                                <div class="text-right">
                                    <p class="text-xs text-gray-400 mb-1">Status</p>
                                    <span class="px-2 py-1 bg-red-50 text-red-600 text-xs font-semibold rounded-full">Rejected</span>
                                </div>
                            </div>
                            
                            <a href="#" class="block w-full py-3 bg-gray-100 text-gray-700 text-center text-sm font-semibold rounded-xl hover:bg-gray-200 transition-colors">
                                View Details
                            </a>
                        </div>
                    </div>
                </div>
            </div>

                </div>
            </div>

        </div>
    </div>
</div>
{% endblock %}